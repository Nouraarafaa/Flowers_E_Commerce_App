<section class="mx-6">
   <h1 class="font-inter font-semibold text-zinc-800 text-[24px]">Account Settings</h1>
   <div class="bg-white rounded-lg p-6 mt-8">
    <form [formGroup]="updateForm" class="flex flex-col gap-2.5" (ngSubmit)="updateUserData()">

        <div class="flex items-center gap-4">
            <div class="relative rounded-full">
                @if (userPhoto == '') {
                <div class="size-30 rounded-full bg-maroon-600 flex justify-center items-center">
                    <span class="font-Nunito text-6xl text-white font-semibold">{{ firstName.charAt(0) }}</span>
                </div>
                }@else {
                <img class="size-30 rounded-full border border-[#E4E4E7]" [src]="userPhoto" alt="user photo">
                }
                <i (click)="fileInput.click()"
                    class="pi pi-cloud-upload absolute bottom-1 end-1 text-lg bg-zinc-50 border border-zinc-200 p-2 rounded-full cursor-pointer shadow-sm hover:bg-zinc-100">
                </i>

                <input #fileInput type="file" (change)="updateUserPhoto($event)" accept="image/*"
                    style="display: none;" />


            </div>

            <div class="flex flex-col gap-4">
                <h3 class="text-zinc-800 text-xl font-semibold">Upload Photo</h3>
                <p class="text-zinc-500 text-16px font-normal">You can upload a .jpg, .png, or .gif photo with max size
                    of 5MB.</p>
            </div>
        </div>

        <div class="userName flex flex-col md:flex-row gap-5">
            <div class="firstName flex-1">
                @let firstNameControl = updateForm.get("firstName");
                <label for="firstName" class="text-black text-[14px] font-inter font-medium">First Name</label>
                <app-form-input formControlName="firstName" [id]="'firstName'" [type]="'text'" [nameControl]=""
                    [placeholder]="'First Name...'"></app-form-input>
                <app-error-message [nameControl]="firstNameControl"></app-error-message>
            </div>
            <div class="lastName flex-1">
                @let lastNameControl = updateForm.get("lastName");
                <label for="lastName" class="text-black text-[14px] font-inter font-medium">Last Name</label>
                <app-form-input formControlName="lastName" [id]="'lastName'" [type]="'text'" [nameControl]=""
                    [placeholder]="'Last Name...'"></app-form-input>
                <app-error-message [nameControl]="lastNameControl"></app-error-message>
            </div>
        </div>
        <div class="email">
            @let emailControl = updateForm.get("email");
            <label for="email" class="text-black text-[14px] font-inter font-medium">Email</label>
            <app-form-input formControlName="email" [id]="'email'" [type]="'email'" [nameControl]=""
                [placeholder]="'Email...'"></app-form-input>
            <app-error-message [nameControl]="emailControl"></app-error-message>
        </div>
        <div class="phone">
            @let phoneControl = updateForm.get("phone");
            <label for="phone" class="text-black text-[14px] font-inter font-medium">Phone</label>
            <div class="relative mt-3">
                <div class="absolute inset-y-0 left-0 flex items-center gap-2 pl-3 pointer-events-none">
                    <img src="./Images/flag.png" alt="EG" class="rounded-[50%]" />
                    <span class="text-gray-700 font-medium">EG (+20)</span>
                </div>
                <input id="phone" type="tel" formControlName="phone" placeholder="Phone..."
                    class="w-full h-12.5 px-4 py-3 pe-8 pl-30 rounded-[10px] border border-[#D4D4D8] bg-white text-[#111] placeholder:text-[#A1A1AA] text-sm outline-none transition-all duration-200 focus:border-[#7A1D1D] focus:ring-2 focus:ring-[#7A1D1D]/20" />
            </div>
            <app-error-message [nameControl]="phoneControl"></app-error-message>
        </div>
        <div class="gender">
            <label for="gender" class="text-zinc-400 text-[14px] font-inter font-medium">Gender</label>
            <app-form-input [disabledFlag]="true" formControlName="gender" [id]="'gender'" [type]="'text'"
                [nameControl]="" [placeholder]="''"></app-form-input>
        </div>

        <div class="flex justify-between items-center pt-15">
            <div class="flex justify-center items-center gap-4">
                <a class="text-maroon-500 text-16px font-medium cursor-pointer">Delete My Account</a>
                <a class="text-zinc-800 text-16px font-medium cursor-pointer ">Change Password</a>
            </div>
            <app-button type="submit" [label]="'Save Changes'"
                [disabledFlag]="updateForm.pristine || updateForm.invalid "></app-button>
        </div>

    </form>
   </div>
</section>