<p-dialog [modal]="true" [(visible)]="visible" [style]="{ width: '850px' }" closable="false">
    <!-- for show first modal that contains user Addresses -->
    @if (dialogType == 'My addresses') {
    <div class="flex justify-between items-center mt-6 font-Primary border-b pb-4 border-zinc-200">
        <header class="font-bold text-3xl text-zinc-800">{{dialogType}}</header>
        @if ((userAddressesInput$()|async)?.length != 0) {
        <button class="py-3.5 px-4 bg-maroon-50 rounded-[10px] font-medium text-maroon-600"
            (click)="addNewAddress()">Add a New Address</button>
        }
    </div>
    <div class="flex flex-col gap-9">
        @for (address of userAddressesInput$()|async; track $index) {
        <div
            class="relative border border-zinc-300 px-5 py-3.5 rounded-xl font-Primary cursor-pointer hover:border-maroon-600 transition-all duration-300 dark:hover:border-soft-pink-300">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center gap-3 justify-center">
                    <div class="size-[33px] rounded-full bg-emerald-500 flex justify-center items-center">
                        <i class="pi pi-map-marker text-white!"></i>
                    </div>
                    <h3 class="font-semibold text-2xl text-zinc-800 dark:text-white">{{address.city}}</h3>

                </div>
                <div class="flex gap-1.5 items-center justify-center">
                    <i class="pi pi-phone"></i>
                    <span class="font-medium text-lg text-zinc-500 dark:text-white">+2{{address.phone}}</span>
                </div>

            </div>
            <p class="font-medium text-zinc-800 mt-1.5 bg-zinc-100 rounded-full py-1 px-3 inline-block">
                {{address.street}}
            </p>

            <!-- div for edit address -->
            <div class="size-[33px] rounded-full border border-zinc-400 flex justify-center items-center absolute end-0 translate-1/2 top-0 bg-white hover:bg-zinc-50 cursor-pointer"
                (click)="editAddress(address._id)">
                <i class="pi pi-pencil"></i>
            </div>
            <!-- div for delete address -->
            <div class="size-[33px] rounded-full flex justify-center items-center absolute end-0 translate-1/2 bottom-8 bg-red-600 hover:bg-red-500 cursor-pointer text-white"
                (click)="deleteAddress(address._id)">
                <i class="pi pi-trash"></i>
            </div>

        </div>

        }@empty {
        <button class="py-3.5 px-4 bg-maroon-50 rounded-[10px] font-medium text-maroon-600"
            (click)="addNewAddress()">Add a New Address</button>
        }


    </div>
    }

    <!-- for show Add a new address modal -->

    @if(dialogType == 'Add a new address' || dialogType == 'Update address info') {
    <header class="font-bold text-3xl text-zinc-800 mt-6">{{dialogType}}</header>
    <p-steps [activeIndex]="active" [model]="items" />
    @if (active == 0) {
    <div class="mb-16">
        <h3 class="font-Primary text-2xl text-maroon-600 font-medium pb-3 border-b border-zinc-200 mb-4">Enter address details</h3>
        <form>
            <div class="font-inter mb-4">
                <label for="city" class="font-medium text-sm text-zinc-800 mb-1.5">City</label>
                <input type="text" id="city" class="w-full border border-zinc-300 rounded-[10px] p-4 placeholder:text-zinc-400 placeholder:text-sm focus:outline-0" placeholder="Enter city name" name="city" />
            </div>
            <div class="font-inter mb-4">
                <label for="address" class="font-medium text-sm text-zinc-800 mb-1.5">Address</label>
                <textarea type="text" id="address" class="w-full h-36 resize-none border border-zinc-300 rounded-[10px] p-4 placeholder:text-zinc-400 placeholder:text-sm focus:outline-0" placeholder="Enter your full address" name="address"></textarea>
            </div>
            <div class="font-inter mb-4">
                <label for="phone" class="font-medium text-sm text-zinc-800 mb-1.5">Phone</label>
                <input type="phone" id="phone" class="w-full border border-zinc-300 rounded-[10px] p-4 placeholder:text-zinc-400 placeholder:text-sm focus:outline-0" placeholder="Phone number" name="phone" />
            </div>
        </form>
    </div>
    }
    @if (active == 1) {
        <h2>Google map</h2>

    }
    <app-button label="Next" (buttonClick)="determineGoogleLocation()"></app-button>
    }
</p-dialog>